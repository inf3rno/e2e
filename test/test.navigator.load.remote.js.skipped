const expect = require("chai").expect;
const e2e = require("./e2e");
const navigator = e2e.openWindow({
    silent: true
});

describe("navigator.load.remote", function () {

    // skipped until Chrome is fixed: https://bugs.chromium.org/p/chromium/issues/detail?id=575690

    it("should be able to load google.com without an issue", async function () {
        await navigator.load("https://www.google.com/");
        expect(true).to.equal(true);
    });

    it("should throw navigation error by a non-existent domain", async function () {
        let wasErrorThrown = false;
        const invalidAddress = "http://www.qqqqqqqqqqq.net/";
        try {
            await navigator.load(invalidAddress);
        }
        catch (error) {
            wasErrorThrown = true;
        }
        expect(wasErrorThrown).to.equal(true);
    });


    after(function () {
        navigator.closeWindow();
    });
});